---
layout: main_guide
title: Mac 用セットアップ
description: "Ruby と Rails をあなたの Mac コンピュータにインストールし、Rails Girls ワークショップの準備をしましょう。"
permalink: install/macos
---

# Mac 用セットアップ

*翻訳者: Goh Matsumoto, [@urimaro](https://twitter.com/urimaro)*

{% include main-guide-intro.html %}

Ruby on Rails でアプリや他のものを作るために、いくつかソフトウェアや開発環境をあなたのコンピュータにセットアップする必要があります。

<div class="help-notice">先に進む前に、<a href="/tools">このガイドで必要になるツール</a> についてよく理解しておいてください。</div>

## Command Line Tools をインストールする

ほとんどのMacユーザはプログラミングをしません。このため Apple は、ハードディスクの容量を節約するために、すべてのノートパソコンに対して、プラグラミング言語を実行するのに必要なツールをインストールしないまま出荷したほうが良いと考えたようです。その代わりに、1つのコマンドを実行するだけでインストールできるようにしました。

以下のコマンドをターミナルに入力し、<kbd>Enter</kbd> キーを押しましょう。パスワードを入力するよう求められるかもしれません。これは Mac のアカウントのパスワードです。パスワードを入力して <kbd>Enter</kbd> キーを押しましょう。

{% highlight sh %}
xcode-select --install
{% endhighlight %}

これらのツールをインストールするのか確認し、利用規約に同意するよう求めるウィンドウがポップアップします。同意するとインストーラーがツールをダウンロードし、インストールします。この処理には少し時間がかかるので、紅茶やコーヒーを飲みながら気楽に待ちましょう。このあとの手順は、Command Line Tools のインストーラの処理が完了しないと動作しません。そのため、先に進んでも意味がありません。

## Homebrew をインストールする

Command Line Tools のような [Homebrew](https://brew.sh/) は、Ruby をインストールできるようになるための足がかりです。Homebrew は単純かつ標準化されたコマンドで他のツールをインストールできるようにします。そうでなければ、これらの他のツールをどのようにインストールする必要があるのか一つずつ把握しなければなりません。Homebrew が解決してくれることで、アプリを作るような、大事なことに集中にできます。

ターミナルに以下のコマンドを入力し、<kbd>enter</kbd> キーを押しましょう。あなたのコンピュータのロックを解除するときに使うパスワードを入力するよう求められます。パスワードを入力して <kbd>Enter</kbd> キーを押しましょう。

{% highlight sh %}
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
{% endhighlight %}

{% highlight sh %}
brew update
{% endhighlight %}

## Git をインストールする

これで Homebrew を使って Git をインストールできます。Git はこのワークショップで使っていくバージョン管理システムです。バージョン管理システムはとても役に立つ強力な力を与えてくれます。時間を行き来できるようになります。少なくともコンピュータでファイルを操作する間は。ワークショップを通じてどのように使うのか紹介します！

{% highlight sh %}
brew install git
{% endhighlight %}

## rbenv をインストールする

私たちが使うプログラミング言語 Ruby は、一年中新しいバージョンがリリースされています。ある賢い人たちが特定のバージョンを簡単にインストールできるツールを作ってくれました。みんなと同じバージョンを確実に使えるようにするために、これを使います。

Homebrew でインストールするために以下のコマンドを実行しましょう。

{% highlight sh %}
brew install rbenv
{% endhighlight %}

{% highlight sh %}
echo 'eval "$(rbenv init -)"' >> ~/.zshrc
{% endhighlight %}

{% highlight sh %}
source ~/.zshrc
{% endhighlight %}

## rbenv を用いて Ruby をインストールする

rbenv がインストールされたので、Ruby をインストールしましょう！バージョン 3.3.0 をインストールしますが、イベントでは他のバージョンをインストールするようにお願いされるかもしれません。その場合、コマンドに含まれるバージョン番号を単純に入れ替えてください。

{% highlight sh %}
rbenv install 3.3.0
{% endhighlight %}

rbenv でインストールできる Ruby のバージョンは、以下のコマンドで確認できます。

{% highlight sh %}
rbenv install -l
{% endhighlight %}

## デフォルトの Ruby を設定する

rbenv によってたくさんのバージョンの Ruby を管理できるようになりますが、どのバージョンを使おうとしているのか曖昧になってしまうことがあります。これを避けるために、今インストールしたバージョンが実際に使いたいものであることを rbenv に教えてあげましょう。

{% highlight sh %}
rbenv global 3.3.0
{% endhighlight %}

Ruby のバージョンがインストールしたものと一致するか確認しましょう。

{% highlight sh %}
ruby --version
{% endhighlight %}

`3.3.0` という数字が含まれた結果になるはずです。

`2.6` から始まるバージョンが表示されたら、まずはターミナルを再起動してみましょう。それでもまだ `2.6` から始まるバージョンが表示される場合、rbenv のセットアップで何かがうまくいかなかったために、あなたのターミナルは、Mac が出荷されたときからインストールされている古い Ruby を使っています。

## Rails をインストールする

ついにワークショップで中心的なツールである Rails をインストールするところまでたどり着きました。

{% highlight sh %}
gem install rails --no-document
{% endhighlight %}

Ruby をインストールしたときと同じように、Rails のインストールに成功したことを確認しましょう。

{% highlight sh %}
rails --version
{% endhighlight %}

`Rails 7.1.3` と表示されるはずですが、それ以上のバージョンでも良いです。

### Rails の動作を確認する

あともう一歩です！関連するツールをインストールしてきました: Command Line Tools、Homebrew、Git、rbenv、Ruby、そして最後に Rails。すべてが期待通りに動作するか確認してみましょう。

このことを確認するために、新しいアプリを作ります。でも、あまり期待しないでください。このアプリは Rails のロゴが入ったページを1つ表示するだけです。ワークショップを通して、そのページを実際のアプリに変えていきます。今のところはロゴが表示されることを確認するだけです。最後のターミナルコマンドを始めましょう！

まずはじめにアプリを生成するジェネレータコマンドを実行して、すべて機能することを確認しましょう。このコマンドでテスト用に新しい Rails アプリを作成します

{% highlight sh %}
rails new railsgirlsapp
{% endhighlight %}

`rails new` コマンドは、あなたのコンピュータにアプリのコードをすべて含む "railsgirlsapp" というフォルダを作成します。`cd` コマンドを実行して、このディレクトリをターミナルで開いてみましょう。

{% highlight sh %}
cd railsgirlsapp
{% endhighlight %}

次に、適切に動くことを確認するために、サッと Rails サーバを起動します。ここで魔法がかかります。

{% highlight sh %}
rails server
{% endhighlight %}

今まで実行したコマンドとは違い、このコマンドは  <kbd>ctrl</kbd> キーを押しながら <kbd>c</kbd> キーを押すまで止まりません。あなたは web サーバーをノートパソコンで起動しました。いつでも訪問者を受け入れ、サンプルアプリを見せる準備ができています。待ち続けるのはやめましょう。

ブラウザで <http://localhost:3000> にアクセスしましょう。Rails のロゴが表示されるはずです。

このガイドに取り組んでいる間に問題にぶつかって進められなくなったとしても、問題ありません！ワークショップのオーガナイザーたちに声をかけて、どんな問題が起きているのか伝えてください。ワークショップによっては、夕方からセットアップのための時間を設けていますし、そうでなくても、ワークショップの日に助けてくれます。

ブラウザに Rails のロゴが表示されたら、これで Ruby on Rails を使ってプログラミングする準備ができたことになります。おめでとうございます！

ワークショップの準備ができました。ワークショップの前に準備するのであれば、ワークショップ当日までこれ以上ガイドを進める必要はありません。ワークショップでお会いしましょう！

{% coach %}
コーチがいるのであれば、コーチと一緒に scaffold コマンドを実行し、生成された画面でデータを入力して、すべて機能していることを確認することで、インストールできたことを確認するのを手伝ってくれます。この後のワークショップの手順に従いながら、テスト用のアプリ `myapp` を削除し、誰も間違ったフォルダで作業していないことを疑いのないものにしてください。
{% endcoach %}
